parameters:
  - $ref: "#/components/parameters/assetId"

get:
  tags:
    - DTC
  summary: Get DTC codes history
  description: |
    Returns an array of the recorded Diagnostics Trouble Codes (DTC) from the vehicle's onboard diagnostics system in a stringified JSON format.
  operationId: getDtc
  security:
    - basicAuth: []
  responses:
    "200":
      description: Success
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/DTCArray"
          example:
            - messageId: mdi-1313382935323227381
              asset: "3516220738006655"
              recordedAt": "2019-12-04T05:54:51Z"
              rawData: "[{\"mode\":7,\"ecu\":\"7E8\",\"dtc\":\"U11F5\"}]"
            - messageId: mdi-1313382935323227352
              asset: "3516220738006655"
              recordedAt": "2019-12-04T06:54:51Z"
              rawData: "[{\"mode\":7,\"ecu\":\"7E8\",\"dtc\":\"U11F5\"}]"
    "401":
      $ref: "#/components/responses/Unauthorized"
    "404":
      $ref: "#/components/responses/DataNotFound"
